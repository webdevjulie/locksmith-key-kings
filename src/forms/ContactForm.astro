---
import Recaptcha from "../components/api/Recaptcha.astro";

let formData = {
  name: "",
  phone: "",
  address: "",
  email: "",
  service_type: "",
  needed: "",
  notes: "",
};


---

<div class="booking-form-container w-full bg-[rgba(249,237,237,1)] px-4 sm:px-8 py-8">
 <!-- Page Heading -->
  <h1 class="text-3xl sm:text-4xl font-extrabold text-center mb-4 text-[#FD9A00]">
    Schedule Your Locksmith Service
  </h1>
  <p class="text-lg text-center text-gray-700 mb-8">
    Fill out the form below to book a trusted Key Kings Locksmith.
  </p>

  <form
    action="/api/booking" 
    method="POST"
    class="flex-1 relative z-10 bg-gradient-to-br from-white to-gray-50 rounded-3xl shadow-2xl p-8 sm:p-10 text-[#1C1C1C] w-full max-w-lg border border-gray-100 mx-auto"
  >
    <h3 class="text-2xl sm:text-3xl font-extrabold mb-8 text-center text-[#1C1C1C]">
      Book a Locksmith
    </h3>

    <!-- Name & Phone -->
    <div class="grid md:grid-cols-2 gap-4 mb-4">
      <input type="text" name="name" placeholder="Your Name *" required class="p-3 border rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 w-full" />
      <input type="tel" name="phone" placeholder="Phone Number *" required class="p-3 border rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 w-full" />
    </div>

    <!-- Address & Email -->
    <div class="grid md:grid-cols-2 gap-4 mb-4">
      <input type="text" name="address" placeholder="Service Address *" required class="p-3 border rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 w-full" />
      <input type="email" name="email" placeholder="Email Address *" required class="p-3 border rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 w-full" />
    </div>

    <!-- Service Type & Needed -->
    <div class="grid md:grid-cols-2 gap-4 mb-4">
      <select name="service_type" required class="p-3 border rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 w-full">
        <option value="" disabled selected>Select Service Type *</option>
        <option>Car Lockout</option>
        <option>House Lockout</option>
        <option>Business Lockout</option>
        <option>Storage Unit Lockout</option>
        <option>Lock Replacement</option>
        <option>Lock Rekey</option>
        <option>Lock Repair</option>
        <option>Gate Locks</option>
        <option>Commercial Lock Replacement</option>
        <option>Commercial Rekey</option>
        <option>Emergency Exit Devices</option>
        <option>Master Key Systems</option>
        <option>Access Control</option>
        <option>Car Key Replacement</option>
        <option>Car Key Duplicate</option>
        <option>Car Key Cutting</option>
        <option>Key Fob Programming</option>
        <option>Ignition Lock Cylinder</option>
      </select>

      <select name="needed" required class="p-3 border rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 w-full">
        <option value="" disabled selected>When do you need service? *</option>
        <option>ASAP - Emergency</option>
        <option>Within 2 hours</option>
        <option>Same Day</option>
        <option>Tomorrow</option>
        <option>This Week</option>
      </select>
    </div>

    <!-- Notes -->
    <div class="mb-4">
      <textarea name="notes" rows="3" placeholder="Additional Notes (Optional)" class="p-3 border rounded-xl w-full focus:ring-2 focus:ring-orange-400 focus:border-orange-400"></textarea>
    </div>

    <!-- reCAPTCHA -->
    <Recaptcha />

    <!-- Submit Button -->
    <button type="submit" class="w-full py-3 bg-gradient-to-r from-orange-500 to-orange-700 hover:from-orange-600 hover:to-orange-800 text-white font-bold rounded-xl shadow-lg transition-transform transform hover:scale-105">
      Request Service Now
    </button>
  </form>
</div>